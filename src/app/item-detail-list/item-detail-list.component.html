<h4 class="d-inline">{{ title }}</h4>
<a  *ngIf="showQuizLink" class="badge badge-primary" routerLink="quiz">Quiz</a>
<ul class="list-group my-3">
    <li *ngFor="let field of details | async; first as isFirst, last as isLast" class="list-group-item">
        <h5>{{ field.key }}</h5>
        <ul class="list-unstyled">
            <li *ngFor="let entry of field.items; index as i">

            	<form *ngIf="edit; else noEdit" #updateForm="ngForm" (ngSubmit)="updateEntry(field.key, field.items, i, updateForm.value.updatedValue)">
					<div class="form-group">
						<div class="input-group">
						  <!-- <div class="input-group-prepend">
						    <span class="input-group-text">{{ label }}</span>
						  </div> -->
						  <input name="updatedValue" type="text" class="form-control" [ngModel]="entry" [placeholder]="field.key" required>
						  <div class="input-group-append">
						    <button class="btn btn-outline-info" type="submit" [disabled]="!updateForm.form.valid || !updateForm.value.updatedValue || !updateForm.value.updatedValue.trim().length || updateForm.value.updatedValue.trim() === entry">Update</button>
						    <button class="btn btn-outline-danger" type="button" (click)="removeEntry(field.key, field.items, i, isFirst && isLast)">Remove</button>
						  </div>
						</div>
					</div>
				</form>
				<!-- <span *ngIf="!edit">{{ entry }}</span> -->
				<ng-template #noEdit>{{ entry }}</ng-template>
<!-- 
            	<span>{{ entry }}</span>
            	<span *ngIf="edit">
					<svg class="pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8" (click)="editEntry(field.key, field.items, i)">
					  <path d="M6 0l-1 1 2 2 1-1-2-2zm-2 2l-4 4v2h2l4-4-2-2z" fill="#17a2b8"/>
					</svg>
					<svg class="pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8" (click)="removeEntry(field.key, field.items, i)">
					  <path d="M0 0v2h8v-2h-8z" transform="translate(0 3)" fill="#dc3545"/>
					</svg>
				</span> -->
            </li>
        </ul>
        <app-add-string *ngIf="edit" [label]="field.key" (newString)="addEntry(field.key, field.items, $event)"></app-add-string>
    </li>
</ul>
<!-- <ul class="list-group">
	<li *ngFor="let field of details | detailFields : edit" class="list-group-item">
		<h5>{{ field.key }}</h5>
		<ul class="list-unstyled">
			<li *ngFor="let entry of details[field.key]; index as i">
				<span>{{ entry }}</span>
				<span *ngIf="edit">
					<svg class="pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8" (click)="editEntry(field.key, details[field.key], i)">
					  <path d="M6 0l-1 1 2 2 1-1-2-2zm-2 2l-4 4v2h2l4-4-2-2z" fill="#17a2b8"/>
					</svg>
					<svg class="pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8" (click)="removeEntry(field.key, details[field.key], i)">
					  <path d="M0 0v2h8v-2h-8z" transform="translate(0 3)" fill="#dc3545"/>
					</svg>
				</span>
			</li>
			<li *ngIf="edit">
				<app-add-string [label]="field.key" (newString)="addEntry(field.key, details[field.key], $event)"></app-add-string>
			</li>
		</ul>
	</li>
</ul>
 -->